{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chand\\\\Desktop\\\\electron-discord\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'; //const electron = window.require('electron');\n\nconst Discord = require('discord.js');\n\nconst client = new Discord.Client();\n\nconst auth = require('./auth.json');\n\nclient.login(auth.token);\nvar globalPage;\nclient.on('ready', () => {\n  console.log(\"\\n\\n\\nLogged in as \".concat(client.user.tag, \"!\"));\n  globalPage.setState({\n    guilds: client.guilds.array().map(x => {\n      return React.createElement(\"img\", {\n        onClick: () => clickGuild(x),\n        className: \"guildIcon\",\n        src: x.iconURL,\n        alt: x.name,\n        key: x.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      });\n    }),\n    channels: client.channels.array().map(x => {\n      if (x.type === 'text') {\n        return React.createElement(\"div\", {\n          onClick: () => clickChannel(x),\n          className: \"channel\",\n          key: x.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, x.name);\n      }\n    })\n  });\n});\nclient.on('message', msg => {\n  globalPage.setState({\n    messages: globalPage.state.messages.concat(createMessage(msg))\n  });\n});\nclient.on('channelCreate', channel => {\n  globalPage.setState({\n    channels: globalPage.state.channels.concat(React.createElement(\"div\", {\n      onClick: () => clickChannel(channel),\n      className: \"channel\",\n      key: channel.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, channel.name))\n  });\n});\n\nfunction clickChannel(channel) {\n  if (channel.type != 'text') {\n    return;\n  }\n\n  var messages;\n  channel.fetchMessages().then(msgs => {\n    globalPage.setState({\n      messages: msgs.map(x => {\n        return createMessage(x);\n      }).reverse()\n    });\n  });\n}\n\nfunction clickGuild(guild) {\n  globalPage.setState({\n    channels: guild.channels.map(x => {\n      if (x.type === 'text') {\n        return React.createElement(\"div\", {\n          onClick: () => clickChannel(x),\n          className: \"channel\",\n          id: \"x.id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, x.name);\n      }\n    })\n  });\n}\n\nfunction createMessage(msg) {\n  var nameColor = {\n    color: 'white',\n    color: msg.member.displayHexColor\n  };\n  var messageText = msg.cleanContent; //\tlet match=messageText.match(/\\*\\*[^\\*]+\\*\\*/)\n  //\tif(match!=null){\n  //\t\tmatch[0]=\"<b>\"+match[0].slice(2,-2)+\"</b>\";\n  //\t\tmessageText=messageText.slice(0,match.index)+match[0]+messageText.slice(match.index+match[0].length);\n  //\t\t//match=messageText.match(/\\*\\*[^\\*]+\\*\\*/);\n  //\t}\n\n  return React.createElement(\"div\", {\n    className: \"message\",\n    key: msg.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"messageAuthor\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    style: {\n      float: 'right'\n    },\n    type: \"checkbox\",\n    onClick: msg => selectMessage(msg),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      float: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, msg.author.tag), React.createElement(\"div\", {\n    style: nameColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, msg.member.displayName)), React.createElement(\"div\", {\n    className: \"messageText\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, messageText));\n}\n\nlet selectedMessages = new Map();\n\nfunction selectMessage(msg) {\n  selectedMessages.set(msg.id, msg);\n}\n\nfunction clearMessages() {\n  selectedMessages = new Map();\n}\n\nfunction printMessages() {\n  console.log(selectedMessages); //\tselectedMessages.forEach(printMsg);\n\n  function printMsg(val, key) {\n    console.log(val.cleanContent);\n  }\n}\n\nclass Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      guilds: \"guilds\",\n      channels: 'channels',\n      messages: 'messages',\n      members: 'members'\n    };\n    globalPage = this;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Guilds, {\n      guilds: this.state.guilds,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Channels, {\n      channels: this.state.channels,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Messages, {\n      messages: this.state.messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Members, {\n      members: this.state.members,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }));\n  }\n\n  showMessages() {\n    console.log(this.state.messages);\n  }\n\n}\n\nclass Guilds extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      guilds: this.props.guilds\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      guilds: props.guilds\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"guilds\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, this.state.guilds);\n  }\n\n}\n\nclass Channels extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      channels: this.props.channels\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      channels: props.channels\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"channels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.channels);\n  }\n\n}\n\nclass Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: this.props.messages\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      messages: props.messages\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"messages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => printMessages(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => clearMessages(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Clear Selection\"), this.state.messages);\n  }\n\n  showMessages() {\n    console.log(this.state.messages);\n  }\n\n}\n\nclass Members extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      members: this.props.members\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      members: props.members\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"members\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, this.state.members);\n  }\n\n}\n\nReactDOM.render(React.createElement(Page, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 218\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["C:/Users/chand/Desktop/electron-discord/src/index.js"],"names":["React","ReactDOM","Discord","require","client","Client","auth","login","token","globalPage","on","console","log","user","tag","setState","guilds","array","map","x","clickGuild","iconURL","name","id","channels","type","clickChannel","msg","messages","state","concat","createMessage","channel","fetchMessages","then","msgs","reverse","guild","nameColor","color","member","displayHexColor","messageText","cleanContent","float","selectMessage","author","displayName","selectedMessages","Map","set","clearMessages","printMessages","printMsg","val","key","Page","Component","constructor","props","members","render","showMessages","Guilds","componentWillReceiveProps","Channels","Messages","Members","document","getElementById"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,aAAP,C,CAEA;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AACA,MAAMC,MAAM,GAAG,IAAIF,OAAO,CAACG,MAAZ,EAAf;;AACA,MAAMC,IAAI,GAAGH,OAAO,CAAC,aAAD,CAApB;;AAEAC,MAAM,CAACG,KAAP,CAAaD,IAAI,CAACE,KAAlB;AAGA,IAAIC,UAAJ;AACAL,MAAM,CAACM,EAAP,CAAU,OAAV,EAAmB,MAAM;AACrBC,EAAAA,OAAO,CAACC,GAAR,8BAAkCR,MAAM,CAACS,IAAP,CAAYC,GAA9C;AAEAL,EAAAA,UAAU,CAACM,QAAX,CAAoB;AACnBC,IAAAA,MAAM,EAACZ,MAAM,CAACY,MAAP,CAAcC,KAAd,GAAsBC,GAAtB,CAA0BC,CAAC,IAAE;AACnC,aAAO;AAAK,QAAA,OAAO,EAAE,MAAIC,UAAU,CAACD,CAAD,CAA5B;AAAiC,QAAA,SAAS,EAAC,WAA3C;AAAuD,QAAA,GAAG,EAAEA,CAAC,CAACE,OAA9D;AAAuE,QAAA,GAAG,EAAEF,CAAC,CAACG,IAA9E;AAAoF,QAAA,GAAG,EAAEH,CAAC,CAACI,EAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACA,KAFM,CADY;AAInBC,IAAAA,QAAQ,EAACpB,MAAM,CAACoB,QAAP,CAAgBP,KAAhB,GAAwBC,GAAxB,CAA4BC,CAAC,IAAE;AACvC,UAAIA,CAAC,CAACM,IAAF,KAAS,MAAb,EAAoB;AACnB,eAAO;AAAK,UAAA,OAAO,EAAE,MAAIC,YAAY,CAACP,CAAD,CAA9B;AAAoC,UAAA,SAAS,EAAC,SAA9C;AAAwD,UAAA,GAAG,EAAEA,CAAC,CAACI,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoEJ,CAAC,CAACG,IAAtE,CAAP;AACA;AACD,KAJQ;AAJU,GAApB;AAUH,CAbD;AAeAlB,MAAM,CAACM,EAAP,CAAU,SAAV,EAAqBiB,GAAG,IAAI;AAC3BlB,EAAAA,UAAU,CAACM,QAAX,CAAoB;AACnBa,IAAAA,QAAQ,EAACnB,UAAU,CAACoB,KAAX,CAAiBD,QAAjB,CAA0BE,MAA1B,CAAiCC,aAAa,CAACJ,GAAD,CAA9C;AADU,GAApB;AAGA,CAJD;AAKAvB,MAAM,CAACM,EAAP,CAAU,eAAV,EAA0BsB,OAAO,IAAE;AAClCvB,EAAAA,UAAU,CAACM,QAAX,CAAoB;AACnBS,IAAAA,QAAQ,EAACf,UAAU,CAACoB,KAAX,CAAiBL,QAAjB,CAA0BM,MAA1B,CAAiC;AAAK,MAAA,OAAO,EAAE,MAAIJ,YAAY,CAACM,OAAD,CAA9B;AAA0C,MAAA,SAAS,EAAC,SAApD;AAA8D,MAAA,GAAG,EAAEA,OAAO,CAACT,EAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgFS,OAAO,CAACV,IAAxF,CAAjC;AADU,GAApB;AAGA,CAJD;;AAMA,SAASI,YAAT,CAAsBM,OAAtB,EAA8B;AAC7B,MAAIA,OAAO,CAACP,IAAR,IAAc,MAAlB,EAAyB;AACxB;AACA;;AAED,MAAIG,QAAJ;AACAI,EAAAA,OAAO,CAACC,aAAR,GAAwBC,IAAxB,CAA6BC,IAAI,IAAE;AAClC1B,IAAAA,UAAU,CAACM,QAAX,CAAoB;AACnBa,MAAAA,QAAQ,EAACO,IAAI,CAACjB,GAAL,CAASC,CAAC,IAAE;AAAC,eAAOY,aAAa,CAACZ,CAAD,CAApB;AAAwB,OAArC,EAAuCiB,OAAvC;AADU,KAApB;AAGA,GAJD;AAKA;;AACD,SAAShB,UAAT,CAAoBiB,KAApB,EAA0B;AACzB5B,EAAAA,UAAU,CAACM,QAAX,CAAoB;AACnBS,IAAAA,QAAQ,EAACa,KAAK,CAACb,QAAN,CAAeN,GAAf,CAAmBC,CAAC,IAAE;AAC9B,UAAIA,CAAC,CAACM,IAAF,KAAS,MAAb,EAAoB;AAChB,eAAO;AAAK,UAAA,OAAO,EAAE,MAAIC,YAAY,CAACP,CAAD,CAA9B;AAAmC,UAAA,SAAS,EAAC,SAA7C;AAAuD,UAAA,EAAE,EAAC,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkEA,CAAC,CAACG,IAApE,CAAP;AACA;AACJ,KAJQ;AADU,GAApB;AAOA;;AACD,SAASS,aAAT,CAAuBJ,GAAvB,EAA2B;AAC1B,MAAIW,SAAS,GAAC;AACbC,IAAAA,KAAK,EAAC,OADO;AAEbA,IAAAA,KAAK,EAACZ,GAAG,CAACa,MAAJ,CAAWC;AAFJ,GAAd;AAKA,MAAIC,WAAW,GAACf,GAAG,CAACgB,YAApB,CAN0B,CAQ3B;AACA;AACA;AACA;AACA;AACA;;AAEC,SAAQ;AAAK,IAAA,SAAS,EAAG,SAAjB;AAA2B,IAAA,GAAG,EAAEhB,GAAG,CAACJ,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACL;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAO,IAAA,KAAK,EAAE;AAACqB,MAAAA,KAAK,EAAC;AAAP,KAAd;AAA8B,IAAA,IAAI,EAAC,UAAnC;AAA8C,IAAA,OAAO,EAAGjB,GAAD,IAAOkB,aAAa,CAAClB,GAAD,CAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC;AAAK,IAAA,KAAK,EAAE;AAACiB,MAAAA,KAAK,EAAC;AAAP,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BjB,GAAG,CAACmB,MAAJ,CAAWhC,GAAzC,CAFD,EAGC;AAAK,IAAA,KAAK,EAAEwB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBX,GAAG,CAACa,MAAJ,CAAWO,WAAnC,CAHD,CADK,EAML;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BL,WAA9B,CANK,CAAR;AAQA;;AACD,IAAIM,gBAAgB,GAAE,IAAIC,GAAJ,EAAtB;;AACA,SAASJ,aAAT,CAAuBlB,GAAvB,EAA2B;AAC1BqB,EAAAA,gBAAgB,CAACE,GAAjB,CAAqBvB,GAAG,CAACJ,EAAzB,EAA4BI,GAA5B;AACA;;AACD,SAASwB,aAAT,GAAwB;AACvBH,EAAAA,gBAAgB,GAAE,IAAIC,GAAJ,EAAlB;AACA;;AACD,SAASG,aAAT,GAAwB;AACvBzC,EAAAA,OAAO,CAACC,GAAR,CAAYoC,gBAAZ,EADuB,CAExB;;AACC,WAASK,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA2B;AAC1B5C,IAAAA,OAAO,CAACC,GAAR,CAAY0C,GAAG,CAACX,YAAhB;AACA;AACD;;AACD,MAAMa,IAAN,SAAmBxD,KAAK,CAACyD,SAAzB,CAAkC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAK9B,KAAL,GAAW;AACVb,MAAAA,MAAM,EAAC,QADG;AAEVQ,MAAAA,QAAQ,EAAC,UAFC;AAGVI,MAAAA,QAAQ,EAAC,UAHC;AAIVgC,MAAAA,OAAO,EAAC;AAJE,KAAX;AAMAnD,IAAAA,UAAU,GAAC,IAAX;AACA;;AAEDoD,EAAAA,MAAM,GAAE;AACP,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKhC,KAAL,CAAWb,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKa,KAAL,CAAWL,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,EAGC,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKK,KAAL,CAAWD,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHD,EAIC,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKC,KAAL,CAAW+B,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CADD;AAQA;;AACDE,EAAAA,YAAY,GAAE;AACbnD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKiB,KAAL,CAAWD,QAAvB;AACA;;AAxBgC;;AA2BlC,MAAMmC,MAAN,SAAqB/D,KAAK,CAACyD,SAA3B,CAAoC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAK9B,KAAL,GAAW;AACVb,MAAAA,MAAM,EAAC,KAAK2C,KAAL,CAAW3C;AADR,KAAX;AAGA;;AACDgD,EAAAA,yBAAyB,CAACL,KAAD,EAAO;AAC/B,SAAK5C,QAAL,CAAc;AACbC,MAAAA,MAAM,EAAC2C,KAAK,CAAC3C;AADA,KAAd;AAGA;;AACD6C,EAAAA,MAAM,GAAE;AACP,WACC;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKhC,KAAL,CAAWb,MADb,CADD;AAKA;;AAlBkC;;AAqBpC,MAAMiD,QAAN,SAAuBjE,KAAK,CAACyD,SAA7B,CAAsC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAK9B,KAAL,GAAW;AACVL,MAAAA,QAAQ,EAAC,KAAKmC,KAAL,CAAWnC;AADV,KAAX;AAGA;;AACDwC,EAAAA,yBAAyB,CAACL,KAAD,EAAO;AAC/B,SAAK5C,QAAL,CAAc;AACbS,MAAAA,QAAQ,EAACmC,KAAK,CAACnC;AADF,KAAd;AAGA;;AACDqC,EAAAA,MAAM,GAAE;AACP,WACC;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKhC,KAAL,CAAWL,QADb,CADD;AAKA;;AAlBoC;;AAqBtC,MAAM0C,QAAN,SAAuBlE,KAAK,CAACyD,SAA7B,CAAsC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAK9B,KAAL,GAAW;AACVD,MAAAA,QAAQ,EAAC,KAAK+B,KAAL,CAAW/B;AADV,KAAX;AAGA;;AACDoC,EAAAA,yBAAyB,CAACL,KAAD,EAAO;AAC/B,SAAK5C,QAAL,CAAc;AACba,MAAAA,QAAQ,EAAC+B,KAAK,CAAC/B;AADF,KAAd;AAGA;;AACDiC,EAAAA,MAAM,GAAE;AACP,WACC;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,MAAIT,aAAa,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EACoE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,MAAID,aAAa,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADpE,EAEE,KAAKtB,KAAL,CAAWD,QAFb,CADD;AAMA;;AACDkC,EAAAA,YAAY,GAAE;AACbnD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKiB,KAAL,CAAWD,QAAvB;AACA;;AAvBoC;;AA0BtC,MAAMuC,OAAN,SAAsBnE,KAAK,CAACyD,SAA5B,CAAqC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAK9B,KAAL,GAAW;AACV+B,MAAAA,OAAO,EAAC,KAAKD,KAAL,CAAWC;AADT,KAAX;AAGA;;AACDI,EAAAA,yBAAyB,CAACL,KAAD,EAAO;AAC/B,SAAK5C,QAAL,CAAc;AACb6C,MAAAA,OAAO,EAACD,KAAK,CAACC;AADD,KAAd;AAGA;;AACDC,EAAAA,MAAM,GAAE;AACP,WACC;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKhC,KAAL,CAAW+B,OADb,CADD;AAKA;;AAlBmC;;AAsBrC3D,QAAQ,CAAC4D,MAAT,CACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADD,EAECO,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFD","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n//const electron = window.require('electron');\n\nconst Discord = require('discord.js');\nconst client = new Discord.Client();\nconst auth = require('./auth.json');\n\nclient.login(auth.token);\n\n\nvar globalPage;\nclient.on('ready', () => {\n    console.log(`\\n\\n\\nLogged in as ${client.user.tag}!`);\n    \n   \tglobalPage.setState({\n   \t\tguilds:client.guilds.array().map(x=>{\n   \t\t\treturn <img onClick={()=>clickGuild(x)} className=\"guildIcon\" src={x.iconURL} alt={x.name} key={x.id}/>\n   \t\t}),\n   \t\tchannels:client.channels.array().map(x=>{\n   \t\t\tif (x.type==='text'){\n\t   \t\t\treturn <div onClick={()=>clickChannel(x)}  className=\"channel\" key={x.id}>{x.name}</div>\n\t   \t\t}\n   \t\t})\n   \t});\n});\n\nclient.on('message', msg => {\n\tglobalPage.setState({\n\t\tmessages:globalPage.state.messages.concat(createMessage(msg)),\n\t});\n});\nclient.on('channelCreate',channel=>{\n\tglobalPage.setState({\n\t\tchannels:globalPage.state.channels.concat(<div onClick={()=>clickChannel(channel)}  className=\"channel\" key={channel.id}>{channel.name}</div>),\n\t})\n})\n\nfunction clickChannel(channel){\n\tif (channel.type!='text'){\n\t\treturn;\n\t}\n\n\tvar messages;\n\tchannel.fetchMessages().then(msgs=>{\n\t\tglobalPage.setState({\n\t\t\tmessages:msgs.map(x=>{return createMessage(x)}).reverse()\n\t\t})\n\t});\n}\nfunction clickGuild(guild){\n\tglobalPage.setState({\n\t\tchannels:guild.channels.map(x=>{\n\t\t\tif (x.type==='text'){\n\t   \t\t\treturn <div onClick={()=>clickChannel(x)} className=\"channel\" id=\"x.id\">{x.name}</div>\n\t   \t\t}\n\t\t})\n\t});\n}\nfunction createMessage(msg){\n\tvar nameColor={\n\t\tcolor:'white',\n\t\tcolor:msg.member.displayHexColor,\n\t}\n\t\n\tvar messageText=msg.cleanContent;\n\t\n//\tlet match=messageText.match(/\\*\\*[^\\*]+\\*\\*/)\n//\tif(match!=null){\n//\t\tmatch[0]=\"<b>\"+match[0].slice(2,-2)+\"</b>\";\n//\t\tmessageText=messageText.slice(0,match.index)+match[0]+messageText.slice(match.index+match[0].length);\n//\t\t//match=messageText.match(/\\*\\*[^\\*]+\\*\\*/);\n//\t}\n\t\n\treturn (<div className = \"message\" key={msg.id}>\n\t\t\t\t<div className=\"messageAuthor\">\n\t\t\t\t\t<input style={{float:'right'}}type=\"checkbox\" onClick={(msg)=>selectMessage(msg)}></input>\n\t\t\t\t\t<div style={{float:'right'}}>{msg.author.tag}</div>\n\t\t\t\t\t<div style={nameColor}>{msg.member.displayName}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"messageText\">{messageText}</div>\n\t\t\t</div>)\n}\nlet selectedMessages= new Map();\nfunction selectMessage(msg){\n\tselectedMessages.set(msg.id,msg);\n}\nfunction clearMessages(){\n\tselectedMessages= new Map();\n}\nfunction printMessages(){\n\tconsole.log(selectedMessages);\n//\tselectedMessages.forEach(printMsg);\n\tfunction printMsg(val, key){\n\t\tconsole.log(val.cleanContent);\n\t}\n}\nclass Page extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tguilds:\"guilds\",\n\t\t\tchannels:'channels',\n\t\t\tmessages:'messages',\n\t\t\tmembers:'members'\n\t\t}\n\t\tglobalPage=this;\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Guilds guilds={this.state.guilds}/>\n\t\t\t\t<Channels channels={this.state.channels}/>\n\t\t\t\t<Messages messages={this.state.messages}/>\n\t\t\t\t<Members members={this.state.members}/>\n\t\t\t</div>\n\t\t)\n\t}\n\tshowMessages(){\n\t\tconsole.log(this.state.messages);\n\t}\n}\n\nclass Guilds extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tguilds:this.props.guilds,\n\t\t}\n\t}\n\tcomponentWillReceiveProps(props){\n\t\tthis.setState({\n\t\t\tguilds:props.guilds,\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div id=\"guilds\">\n\t\t\t\t{this.state.guilds}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Channels extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tchannels:this.props.channels,\n\t\t}\n\t}\n\tcomponentWillReceiveProps(props){\n\t\tthis.setState({\n\t\t\tchannels:props.channels,\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div id=\"channels\">\n\t\t\t\t{this.state.channels}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Messages extends React.Component{\n\t\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tmessages:this.props.messages,\n\t\t}\n\t}\n\tcomponentWillReceiveProps(props){\n\t\tthis.setState({\n\t\t\tmessages:props.messages\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div id=\"messages\">\n\t\t\t\t<button type=\"button\" onClick={()=>printMessages()}>Delete</button><button type=\"button\" onClick={()=>clearMessages()}>Clear Selection</button>\n\t\t\t\t{this.state.messages}\n\t\t\t</div>\n\t\t)\n\t}\n\tshowMessages(){\n\t\tconsole.log(this.state.messages);\n\t}\n}\n\nclass Members extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tmembers:this.props.members,\n\t\t}\n\t}\n\tcomponentWillReceiveProps(props){\n\t\tthis.setState({\n\t\t\tmembers:props.members\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div id=\"members\">\n\t\t\t\t{this.state.members}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nReactDOM.render(\n\t<Page />,\n\tdocument.getElementById('root')\n);\n"]},"metadata":{},"sourceType":"module"}