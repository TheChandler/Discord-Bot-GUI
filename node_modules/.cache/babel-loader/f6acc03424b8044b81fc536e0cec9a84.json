{"ast":null,"code":"const Action = require('./Action');\n\nconst Constants = require('../../util/Constants');\n\nclass MessageUpdateAction extends Action {\n  handle(data) {\n    const client = this.client;\n    const channel = client.channels.get(data.channel_id);\n\n    if (channel) {\n      const message = channel.messages.get(data.id);\n\n      if (message) {\n        message.patch(data);\n        client.emit(Constants.Events.MESSAGE_UPDATE, message._edits[0], message);\n        return {\n          old: message._edits[0],\n          updated: message\n        };\n      }\n\n      return {\n        old: message,\n        updated: message\n      };\n    }\n\n    return {\n      old: null,\n      updated: null\n    };\n  }\n\n}\n/**\n * Emitted whenever a message is updated - e.g. embed or content change.\n * @event Client#messageUpdate\n * @param {Message} oldMessage The message before the update\n * @param {Message} newMessage The message after the update\n */\n\n\nmodule.exports = MessageUpdateAction;","map":null,"metadata":{},"sourceType":"script"}