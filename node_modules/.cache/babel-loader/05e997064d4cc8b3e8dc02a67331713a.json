{"ast":null,"code":"const Action = require('./Action');\n\nconst Collection = require('../../util/Collection');\n\nconst Constants = require('../../util/Constants');\n\nclass MessageDeleteBulkAction extends Action {\n  handle(data) {\n    const messages = new Collection();\n    const channel = this.client.channels.get(data.channel_id);\n\n    if (channel) {\n      for (const id of data.ids) {\n        const message = channel.messages.get(id);\n\n        if (message) {\n          message.deleted = true;\n          messages.set(message.id, message);\n          channel.messages.delete(id);\n        }\n      }\n    }\n\n    if (messages.size > 0) this.client.emit(Constants.Events.MESSAGE_BULK_DELETE, messages);\n    return {\n      messages\n    };\n  }\n\n}\n\nmodule.exports = MessageDeleteBulkAction;","map":null,"metadata":{},"sourceType":"script"}