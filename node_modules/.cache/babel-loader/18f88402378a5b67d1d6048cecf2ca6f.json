{"ast":null,"code":"const Action = require('./Action');\n\nconst Constants = require('../../util/Constants');\n\nconst Util = require('../../util/Util');\n\nclass UserUpdateAction extends Action {\n  handle(data) {\n    const client = this.client;\n\n    if (client.user) {\n      if (client.user.equals(data)) {\n        return {\n          old: client.user,\n          updated: client.user\n        };\n      }\n\n      const oldUser = Util.cloneObject(client.user);\n      client.user.patch(data);\n      client.emit(Constants.Events.USER_UPDATE, oldUser, client.user);\n      return {\n        old: oldUser,\n        updated: client.user\n      };\n    }\n\n    return {\n      old: null,\n      updated: null\n    };\n  }\n\n}\n\nmodule.exports = UserUpdateAction;","map":null,"metadata":{},"sourceType":"script"}