{"ast":null,"code":"const Action = require('./Action');\n\nconst Constants = require('../../util/Constants');\n/*\n{ user_id: 'id',\n     message_id: 'id',\n     emoji: { name: 'ï¿½', id: null },\n     channel_id: 'id' } }\n*/\n\n\nclass MessageReactionAdd extends Action {\n  handle(data) {\n    const user = this.client.users.get(data.user_id);\n    if (!user) return false; // Verify channel\n\n    const channel = this.client.channels.get(data.channel_id);\n    if (!channel || channel.type === 'voice') return false; // Verify message\n\n    const message = channel.messages.get(data.message_id);\n    if (!message) return false;\n    if (!data.emoji) return false; // Verify reaction\n\n    const reaction = message._addReaction(data.emoji, user);\n\n    if (reaction) this.client.emit(Constants.Events.MESSAGE_REACTION_ADD, reaction, user);\n    return {\n      message,\n      reaction,\n      user\n    };\n  }\n\n}\n/**\n * Emitted whenever a reaction is added to a cached message.\n * @event Client#messageReactionAdd\n * @param {MessageReaction} messageReaction The reaction object\n * @param {User} user The user that applied the emoji or reaction emoji\n */\n\n\nmodule.exports = MessageReactionAdd;","map":null,"metadata":{},"sourceType":"script"}