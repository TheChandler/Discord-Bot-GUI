{"ast":null,"code":"const Action = require('./Action');\n\nconst Constants = require('../../util/Constants');\n\nconst Util = require('../../util/Util');\n\nclass GuildRoleUpdateAction extends Action {\n  handle(data) {\n    const client = this.client;\n    const guild = client.guilds.get(data.guild_id);\n\n    if (guild) {\n      const roleData = data.role;\n      let oldRole = null;\n      const role = guild.roles.get(roleData.id);\n\n      if (role) {\n        oldRole = Util.cloneObject(role);\n        role.setup(data.role);\n        client.emit(Constants.Events.GUILD_ROLE_UPDATE, oldRole, role);\n      }\n\n      return {\n        old: oldRole,\n        updated: role\n      };\n    }\n\n    return {\n      old: null,\n      updated: null\n    };\n  }\n\n}\n/**\n * Emitted whenever a guild role is updated.\n * @event Client#roleUpdate\n * @param {Role} oldRole The role before the update\n * @param {Role} newRole The role after the update\n */\n\n\nmodule.exports = GuildRoleUpdateAction;","map":null,"metadata":{},"sourceType":"script"}